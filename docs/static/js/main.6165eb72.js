(()=>{"use strict";var e={3954:(e,t,l)=>{l.r(t);var r=l(7404),n=l(9526),o=l(8592),a=l(2469),i=l(3497),d=l(9233),s=l(1133),c=l(1451),u=l(7557);const f=o.default.create({container:{margin:10,borderWidth:1,borderColor:"#ddd"},row:{flexDirection:"row"},cell:{flex:1,padding:8,textAlign:"center",borderWidth:1,borderColor:"#eee"},headerCell:{fontWeight:"bold",backgroundColor:"#f5f5f5"},buttonCell:{backgroundColor:"#e3f2fd"},zeroCell:{backgroundColor:"#ffebee"},buttonText:{fontSize:16,fontWeight:"bold"}}),b=({matrix:e,colors:t,numbers:l,originalFrequencies:r,onCellPress:n})=>(0,u.jsxs)(s.default,{style:f.container,children:[(0,u.jsxs)(s.default,{style:f.row,children:[(0,u.jsx)(d.default,{style:[f.cell,f.headerCell],children:"Color\\Num"}),l.map((e=>(0,u.jsx)(d.default,{style:[f.cell,f.headerCell],children:e},`header-${e}`)))]}),t.map(((t,o)=>(0,u.jsxs)(s.default,{style:f.row,children:[(0,u.jsx)(d.default,{style:[f.cell,f.headerCell],children:t}),l.map(((l,a)=>{const i=r[l],s=e[o]&&e[o][a]||0;return(0,u.jsx)(c.default,{style:[f.cell,f.buttonCell,0===s&&f.zeroCell],onPress:()=>((t,l,r)=>{const o=e[t][l];n(t,l,o>0?o-1:r)})(o,a,i),children:(0,u.jsx)(d.default,{style:f.buttonText,children:s})},`cell-${t}-${l}`)}))]},`row-${t}`)))]});var h=l(477),x=l(6245);function g({idx:e,color:t,number:l,probabilities:r={color:{},number:{}},options:o,update:a,resetCard:i}){const[f,b]=(0,n.useState)(t||""),[g,m]=(0,n.useState)(l||""),[p,j]=(0,n.useState)([]),[C,w]=(0,n.useState)([]),[S,k]=(0,n.useState)([]),[T,v]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=o.color.filter((e=>1===r.color?.[e])),t=o.color.filter((e=>0===r.color?.[e])),l=o.number.filter((e=>1===r.number?.[e])),n=o.number.filter((e=>0===r.number?.[e]));j(e),w(t),k(l),v(n)}),[r,o]);const B=(e,t)=>{t?(j(p.filter((t=>t!==e))),w([...C,e])):(w(C.filter((t=>t!==e))),j([...p,e]))},W=(e,t)=>{t?(k(S.filter((t=>t!==e))),v([...T,e])):(v(T.filter((t=>t!==e))),k([...S,e]))};return(0,u.jsxs)(s.default,{children:[(0,u.jsxs)(d.default,{style:y.cardTitle,children:["Card ",e+1]}),(0,u.jsxs)(h.default,{style:y.cardContainer,children:[(0,u.jsxs)(s.default,{style:y.pickerContainer,children:[(0,u.jsx)(d.default,{style:y.pickerLabel,children:"Color"}),(0,u.jsxs)(x.default,{selectedValue:f,style:y.picker,onValueChange:t=>{b(t),a(e,t,g)},children:[(0,u.jsx)(x.default.Item,{label:"Select color",value:""}),o?.color?.map((e=>(0,u.jsx)(x.default.Item,{label:e,value:e},e)))]})]}),(0,u.jsxs)(s.default,{style:y.pickerContainer,children:[(0,u.jsx)(d.default,{style:y.pickerLabel,children:"Number"}),(0,u.jsxs)(x.default,{selectedValue:g,style:y.picker,onValueChange:t=>{m(t),a(e,f,t)},children:[(0,u.jsx)(x.default.Item,{label:"Select number",value:""}),o?.number?.map((e=>(0,u.jsx)(x.default.Item,{label:String(e),value:String(e)},e)))]})]}),(0,u.jsxs)(s.default,{style:y.tableContainer,children:[(0,u.jsx)(d.default,{style:y.sectionTitle,children:"Probability Table"}),(0,u.jsxs)(s.default,{style:y.tableHeader,children:[(0,u.jsx)(d.default,{style:y.tableCellHeader,children:"Probability"}),(0,u.jsx)(d.default,{style:y.tableCellHeader,children:"Color"}),(0,u.jsx)(d.default,{style:y.tableCellHeader,children:"Number"})]}),(0,u.jsxs)(s.default,{style:y.tableRow,children:[(0,u.jsx)(d.default,{style:y.tableCellHeader,children:"Yes"}),(0,u.jsx)(s.default,{style:y.tableCell,children:p.map((e=>(0,u.jsx)(c.default,{style:y.probButton,onPress:()=>B(e,!0),children:(0,u.jsx)(d.default,{style:y.buttonText,children:e})},e)))}),(0,u.jsx)(s.default,{style:y.tableCell,children:S.map((e=>(0,u.jsx)(c.default,{style:y.probButton,onPress:()=>W(e,!0),children:(0,u.jsx)(d.default,{style:y.buttonText,children:e})},e)))})]}),(0,u.jsxs)(s.default,{style:y.tableRow,children:[(0,u.jsx)(d.default,{style:y.tableCellHeader,children:"No"}),(0,u.jsx)(s.default,{style:y.tableCell,children:C.map((e=>(0,u.jsx)(c.default,{style:[y.probButton,y.noButton],onPress:()=>B(e,!1),children:(0,u.jsx)(d.default,{style:y.buttonText,children:e})},e)))}),(0,u.jsx)(s.default,{style:y.tableCell,children:T.map((e=>(0,u.jsx)(c.default,{style:[y.probButton,y.noButton],onPress:()=>W(e,!1),children:(0,u.jsx)(d.default,{style:y.buttonText,children:e})},e)))})]})]}),(0,u.jsx)(s.default,{style:y.buttonRow,children:(0,u.jsx)(c.default,{style:[y.actionButton,y.resetButton],onPress:()=>i(e),children:(0,u.jsx)(d.default,{style:y.buttonText,children:"Reset Card"})})})]})]})}const y=o.default.create({cardContainer:{backgroundColor:"#fff",borderRadius:10,padding:15,margin:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,width:270,shadowRadius:4,elevation:3,borderWidth:1,borderColor:"#ccc"},cardTitle:{fontSize:18,fontWeight:"bold",marginBottom:10,color:"#333",textAlign:"center"},pickerContainer:{marginBottom:15,flexDirection:"row",alignItems:"center",gap:10},pickerLabel:{fontSize:16,color:"#555",width:50},picker:{height:40,flex:1,backgroundColor:"#f0f0f0",borderRadius:5},tableContainer:{marginTop:10,borderWidth:1,borderColor:"#888",borderRadius:6,overflow:"hidden"},sectionTitle:{fontSize:16,fontWeight:"600",padding:8,backgroundColor:"#f7f7f7",borderBottomWidth:1,borderColor:"#ccc",color:"#333"},tableHeader:{flexDirection:"row",backgroundColor:"#e0e0e0",borderBottomWidth:1,borderColor:"#ccc",padding:6},tableRow:{flexDirection:"row",borderTopWidth:1,borderColor:"#ddd",paddingVertical:6,paddingHorizontal:4,alignItems:"flex-start"},tableCellHeader:{flex:1,fontWeight:"bold",color:"#222"},tableCell:{flex:1,flexDirection:"row",flexWrap:"wrap",gap:4},probButton:{backgroundColor:"#4a90e2",paddingHorizontal:8,paddingVertical:4,borderRadius:4,margin:2},noButton:{backgroundColor:"#aaa"},buttonText:{color:"white",fontWeight:"bold",fontSize:13},buttonRow:{marginTop:10,flexDirection:"row",justifyContent:"center"},actionButton:{padding:10,borderRadius:5,alignItems:"center",minWidth:100},resetButton:{backgroundColor:"#e74c3c"}});var m=l(196),p=l(2940);function j({showHintDisplay:e,number_cards:t,colors:l,numbers:r,return:o}){const[a,i]=(0,n.useState)([]),[f,b]=(0,n.useState)("Select");return(0,u.jsx)(m.default,{visible:e,transparent:!0,animationType:"fade",children:(0,u.jsx)(p.default,{onPress:()=>o([],"Select"),children:(0,u.jsx)(s.default,{style:C.overlay,children:(0,u.jsx)(p.default,{children:(0,u.jsxs)(s.default,{style:C.hintBox,children:[(0,u.jsx)(d.default,{style:C.title,children:"The following cards"}),(0,u.jsx)(s.default,{style:C.cardGrid,children:Array.from({length:t}).map(((e,t)=>(0,u.jsx)(c.default,{style:[C.card,a.includes(t)&&C.cardSelected],onPress:()=>{return e=t,void(a.includes(e)?i(a.filter((t=>t!==e))):i([...a,e]));var e},children:(0,u.jsx)(d.default,{style:C.cardNumber,children:t+1})},t)))}),(0,u.jsx)(d.default,{style:C.areText,children:"are"}),(0,u.jsx)(s.default,{style:C.pickerWrapper,children:(0,u.jsxs)(x.default,{selectedValue:f,onValueChange:e=>b(e),children:[(0,u.jsx)(x.default.Item,{label:"Select",value:"Select"}),l.map(((e,t)=>(0,u.jsx)(x.default.Item,{label:e,value:e},t))),r.map(((e,t)=>(0,u.jsx)(x.default.Item,{label:e.toString(),value:e.toString()},t)))]})}),(0,u.jsx)(c.default,{style:C.applyButton,onPress:()=>{0!=a.length&&"Select"!=f&&(console.log(`Applying hint: ${f} to cards: ${a}`),o(a,f))},children:(0,u.jsx)(d.default,{style:C.applyText,children:"Apply"})})]})})})})})}const C=o.default.create({overlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",alignItems:"center"},hintBox:{backgroundColor:"white",borderRadius:10,padding:20,width:300,alignItems:"center"},closeButton:{alignSelf:"flex-start",padding:5,borderRadius:5,backgroundColor:"#ddd",marginBottom:10},closeText:{fontSize:16,fontWeight:"bold"},title:{fontSize:18,marginBottom:10,fontWeight:"bold"},cardGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",gap:10},card:{width:40,height:40,borderColor:"black",borderWidth:1,margin:5,alignItems:"center",justifyContent:"center"},cardSelected:{backgroundColor:"#cce5ff"},cardNumber:{fontSize:16},areText:{marginTop:10,fontSize:18},pickerWrapper:{borderWidth:1,borderColor:"#000",marginVertical:10,width:"100%"},applyButton:{backgroundColor:"#ddd",paddingVertical:10,paddingHorizontal:20,borderRadius:8,marginTop:10},applyText:{fontSize:16}});const w=o.default.create({container:{flex:1,padding:16},settingsContainer:{marginBottom:20},settingRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},hintText:{fontSize:12,fontWeight:"bold",color:"white"},settingLabel:{fontSize:18,fontWeight:"bold",marginRight:10},numberInputContainer:{flexDirection:"row",alignItems:"center"},cardHdr:{flexDirection:"row",justifyContent:"flex-start",paddingHorizontal:10,marginTop:20},numberInput:{height:40,width:50,borderColor:"#ccc",borderWidth:1,borderRadius:4,textAlign:"center",marginHorizontal:5},hintBtn:{width:140,height:60,backgroundColor:"#a0a0ff",borderRadius:20,justifyContent:"center",alignItems:"center"},controlButton:{width:40,height:40,backgroundColor:"#f0f0f0",borderRadius:20,justifyContent:"center",alignItems:"center"},controlText:{fontSize:20,fontWeight:"bold"},mainTitle:{fontSize:32,textAlign:"center",fontWeight:"bold",marginVertical:16},scrollView:{flex:1},deckContainer:{marginBottom:20}});(0,r.default)((function(){const[e,t]=(0,n.useState)(5),[l,r]=(0,n.useState)(5),[o,f]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),[y,m]=(0,n.useState)([]),[p,C]=(0,n.useState)([]),S=["Red","Green","Blue","Yellow","White"],k={1:3,2:2,3:2,4:2,5:1};(0,n.useEffect)((()=>{m(Array(l).fill("Select")),C(Array(l).fill("Select")),function(){var e={};for(let t=0;t<l;t++)e[t]={color:{Red:0,Green:0,Blue:0,Yellow:0,White:0},number:{1:0,2:0,3:0,4:0,5:0}};x(e)}()}),[l]);const[T,v]=(0,n.useState)([]);function B(e,t){Object.assign({},h);let l=h[e];if(console.log(`Card Probabilities: ${JSON.stringify(l)}`),S.includes(t))for(let r of S)l.color[r]=r===t?1:0;else for(let r of Object.keys(k))l.number[r]=r===t?1:0}return(0,n.useEffect)((()=>{!function(){const e=S.map((e=>Object.keys(k).map((e=>k[e]))));v(e)}()}),[]),(0,u.jsxs)(s.default,{style:w.container,children:[(0,u.jsx)(d.default,{style:w.mainTitle,children:"Hanabi"}),(0,u.jsxs)(s.default,{style:w.settingsContainer,children:[(0,u.jsxs)(s.default,{style:w.settingRow,children:[(0,u.jsx)(d.default,{style:w.settingLabel,children:"Players:"}),(0,u.jsxs)(s.default,{style:w.numberInputContainer,children:[(0,u.jsx)(c.default,{onPress:()=>t((e=>Math.max(e-1,2))),style:w.controlButton,children:(0,u.jsx)(d.default,{style:w.controlText,children:"-"})}),(0,u.jsx)(i.default,{style:w.numberInput,keyboardType:"numeric",value:e.toString(),onChangeText:e=>{const l=parseInt(e)||2;t(Math.min(Math.max(l,2),5))}}),(0,u.jsx)(c.default,{onPress:()=>t((e=>Math.min(e+1,5))),style:w.controlButton,children:(0,u.jsx)(d.default,{style:w.controlText,children:"+"})})]})]}),(0,u.jsxs)(s.default,{style:w.settingRow,children:[(0,u.jsx)(d.default,{style:w.settingLabel,children:"Cards per Player:"}),(0,u.jsxs)(s.default,{style:w.numberInputContainer,children:[(0,u.jsx)(c.default,{onPress:()=>r((e=>Math.max(e-1,4))),style:w.controlButton,children:(0,u.jsx)(d.default,{style:w.controlText,children:"-"})}),(0,u.jsx)(i.default,{style:w.numberInput,keyboardType:"numeric",value:l.toString(),onChangeText:t=>{const l=parseInt(t)||4,n=Math.floor(50/e),o=Math.min(n,10),a=Math.min(Math.max(l,4),o);r(a),a===o&&console.warn(`Maximum cards per player reached (${o}) with ${e} players`)}}),(0,u.jsx)(c.default,{onPress:()=>r((e=>Math.min(e+1,10))),style:w.controlButton,children:(0,u.jsx)(d.default,{style:w.controlText,children:"+"})})]})]})]}),(0,u.jsx)(b,{matrix:T,colors:S,numbers:Object.keys(k),originalFrequencies:k,onCellPress:(e,t,l)=>{v((r=>{const n=[...r];return n[e]=[...n[e]],n[e][t]=l,n}))}}),(0,u.jsxs)(c.default,{onPress:function(){f(!0)},style:w.hintBtn,children:[(0,u.jsx)(d.default,{style:w.hintText,children:"Add Hint"}),(0,u.jsx)(j,{showHintDisplay:o,number_cards:l,colors:S,numbers:Object.keys(k),return:function(e,t){for(let l of e)B(l,t);f(!1)}})]}),(0,u.jsx)(a.default,{horizontal:!0,style:{marginTop:20},contentContainerStyle:w.cardHdr,children:Object.keys(h).map(((e,t)=>(0,u.jsx)(s.default,{style:w.deckContainer,children:(0,u.jsx)(g,{idx:t,color:y[t],number:p[t],options:{color:S,number:Object.keys(k)},probabilities:h[e],resetCard:()=>function(e){let t=Object.assign({},h),l=[...y],r=[...p];t[e]={color:{Red:0,Green:0,Blue:0,Yellow:0,White:0},number:{1:0,2:0,3:0,4:0,5:0}},x(t),l[e]="Select",r[e]="Select",m(l),C(r)}(t)})},t)))})]})}))}},t={};function l(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,l),o.exports}l.m=e,(()=>{var e=[];l.O=(t,r,n,o)=>{if(!r){var a=1/0;for(c=0;c<e.length;c++){for(var[r,n,o]=e[c],i=!0,d=0;d<r.length;d++)(!1&o||a>=o)&&Object.keys(l.O).every((e=>l.O[e](r[d])))?r.splice(d--,1):(i=!1,o<a&&(a=o));if(i){e.splice(c--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,n,o]}})(),l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};l.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[a,i,d]=r,s=0;if(a.some((t=>0!==e[t]))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(d)var c=d(l)}for(t&&t(r);s<a.length;s++)o=a[s],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=l.O(void 0,[362],(()=>l(3954)));r=l.O(r)})();
//# sourceMappingURL=main.6165eb72.js.map